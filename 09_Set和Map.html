<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge;chrome=1">
    <meta name="renderer" content="webkit">
    <title>我就是TM要用ES6,让IE8见鬼去吧</title>
    <script src="./dist/babel.min.js"></script>
    <script src="./dist/polyfill.js"></script>
</head>
<body>
    <div></div>
    <div></div>
    <div></div>
    <script type="text/babel">
        console.log(`
ES6 提供了新的数据结构 Set。
它类似于数组，但是成员的值都是唯一的，没有重复的值。
Set 本身是一个构造函数，用来生成 Set 数据结构。

Set 函数可以接受一个数组
（或者具有 iterable 接口的其他数据结构）作为参数，用来初始化。

`)

        const s=new Set();
        [2,3,5,4,5,2,2].forEach((x)=>s.add(x))

        console.log(s)
        for(let i of s){
            console.log(i)
        }

        const set=new Set([1,2,3,4,4])
        for(let i of set){
            console.log(i)
        }

        const set2 = new Set(document.querySelectorAll('div'));
        console.log(set2.size)

        console.log(`
Array.from方法可以将 Set 结构转为数组。
`)
        const items=new Set([1,2,3,4,5])
        const array=Array.from(items)
        console.log(array)


        console.log(`
扩展运算符（...）内部使用for...of循环，所以也可以用于 Set 结构。
`)
        let set3 = new Set(['red', 'green', 'blue']);
        let arr2 = [...set3];
        console.log(arr2)


        console.log(`
因此使用 Set 可以很容易地实现
并集（Union）、交集（Intersect）和差集（Difference）。
`)
        let a = new Set([1, 2, 3]);
        let b = new Set([4, 3, 2]);

        // 并集
        let union = new Set([...a, ...b]);
        // Set {1, 2, 3, 4}
        console.log(union)

        // 交集
        let intersect = new Set([...a].filter(x => b.has(x)));
        // set {2, 3}
        console.log(intersect)
        // 差集
        let difference = new Set([...a].filter(x => !b.has(x)));
        // Set {1}
        console.log(difference)
    </script>
</body>
</html>